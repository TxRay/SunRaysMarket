@inherits OwningComponentBase<IProductSearchService>
@attribute [StreamRendering]
@page "/Search"

<PageLayout ContentWidth="ContentWidth.PageFull">
    <ProductSection Heading="Search Results" StreamedProducts="@Products"/>
</PageLayout>

@code {
    [SupplyParameterFromQuery] public string? Query { get; set; }

    private IAsyncEnumerable<ProductListModel> Products { get; set; }

    protected override void OnInitialized()
    {
        Products = Service.GetSearchResults(Query);
    }

}