@inherits OwningComponentBase<IUnitOfWork>

@page "/"

<AppPageTitle>Home</AppPageTitle>

<MainHeader>
    <HeroHome/>
</MainHeader>

<PageLayout CssClasses="main-home" ContentWidth="ContentWidth.PageFull">
    <ProductSection Heading="Featured Products" StreamedProducts="@StreamedProducts"/>
</PageLayout>

@code {
    private IAsyncEnumerable<ProductListModel> StreamedProducts { get; set; } = default!;

    protected override void OnInitialized()
    {
        base.OnInitialized();
        StreamedProducts = Service.ProductRepository.GetAllAsync();
    }

}